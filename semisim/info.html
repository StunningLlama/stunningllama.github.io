<h1>Background</h1>
I created this simulator because I wanted to get a deeper understanding of how semiconductors work. It's been my experience that there's been a lack of good simulations that demonstrate advanced topics in physics.
There certaintly exists many educational physics simulations, but they're all either aimed at lower educational levels, or they are very restricted in how the user can interact with the system.
The only examples I've seen of simulations that combine advanced topics with a generous amount of interactivity are the physics applets written by Paul Falstad, to whom I'm also grateful for looking over my project and helping to convert it to Javascript.
I've tried to give users many different ways of interacting with the simulation. Circuits can be drawn with just a few clicks of the mouse, allowing users to easily experiment with their own circuits.
There are also many different ways of visualizing the underlying physics that I've incorporated into the settings. Each one gives a different perspective on the physics that is happening.
At the end of the day, I think the best way to use my program is to just start playing around with it.

<h1>Physics</h1>
My program simulates Maxwell's equations on a two-dimensional grid. The electric field is tangent to the screen and the magnetic field points out of it.
To evolve the E and B fields forward in time, I use Yee's method. On top of this, I've added in semiconductors, which have two kinds of charge carriers, electrons and holes.
Both types experience electric and chemical forces that determine their motion. The charge carrier density is determined by the continuity equation, with an extra term that describes recombination.
When all this is put together, the result is a simulation that demonstrates many important properties of semiconductors. These include:
<ul>
<li>PN junctions: The depletion region and built-in potential are clearly visible.</li>
<li>Metal-semiconductor junctions: Metals and semiconductors will form either an ohmic contact or Schottky junction depending on their workfunctions.</li>
<li>Field effect: Charge carriers will respond to an external electric field, either moving towards or away from it.</li>
<li>Recombination: When electrons and holes recombine, light is produced (the simulation assumes all semiconductors are direct bandgap)</li>
<li>Galvani potential: Two metals with different chemical potentials will acquire an electrical potential difference on contact.</li>
<li>Thermoelectricity: Current flowing between different materials can result in cooling of one material and heating of another.</li>
</ul>

<h2>Limitations</h2>
A simulation is always an incomplete representation of physical reality. My software is intended to be educational, and used as a tool for gaining intuition, but no more than that.
It's good for demonstrating how basic semiconductor devices operate, but it leaves out many physical effects that become important when the parameters of the system are pushed to the extremes.
Some of the inaccuracies include:
<ul>
<li>Metals are modelled as semiconductors with a huge equilibrium carrier concentration. Real metals contain electrons at all energy levels in the conduction band, which contribute to conductivity in different amounts.</li>
<li>Electrical breakdown, which is important for the functioning of certain devices, is not modeled.</li>
<li>Quantum tunelling, which is important at small length scales and is used in tunnel diodes, isn't modelled.</li>
<li>Velocity saturation, which limits the amount of current that can flow in a semiconductor, isn't properly modelled.</li>
<li>Fermi level pinning isn't taken into account. The properties of the metal-semiconductor junction are influenced more by surface effects than the metal's workfunction.</li>
<li>The Hall effect isn't simulated.</li>
<li>The model for carrier generation and recombination is a simplified version of those found in textbooks: different recombination mechanisms are combined into a single rate constant.</li>
<li>Finally, certain properties of materials differ from their real life counterparts. For example, the charge carrier mobility of the semiconductor material is about 1500x greater than that of Silicon.
    This was done to demonstrate the properties of semiconductors as clearly as possible.</li>
</ul>

<h1>Simulation details</h1>
The main way to interact with circuits is to change the strength of voltage sources and turn switches on and off. The quickest way to get started is to load one of the examples,
uncheck the pause button and click on one of the voltage sources. You can then adjust the voltage using a slider located on the right panel.
<h2>Tools</h2>
<ul>
    <li><strong>Interact:</strong> Click on a voltage source to set its strength.</li>
    <li><strong>Draw:</strong> Add material to the field.</li>
    <li><strong>Voltage:</strong> Add a voltage probe.</li>
    <li><strong>Current:</strong> Click and drag to add a current probe that measures current across a wire.
    </li>
    <li><strong>Ground:</strong> Specifies the point relative to which probes measure voltage (optional).</li>
    <li><strong>Delete probe:</strong> Click to delete a probe.</li>
    <li><strong>Replace:</strong> Draw over other materials.</li>
    <li><strong>Line:</strong> Click and drag to make a line.</li>
    <li><strong>Fill:</strong> Fill a region.</li>
    <li><strong>Erase:</strong> Erase.</li>
    <li><strong>Select:</strong> Click and drag to make a rectangular selection or move it.</li>
    <li><strong>Select region:</strong> Click to select a contiguous region.</li>
    <li><strong>Text:</strong> Click to place a text cursor and type text on the screen.</li>
</ul>

<h2>Controls</h2>
<ul>
    <li><strong>P/Space:</strong> Pause &amp; unpause</li>
    <li><strong>F:</strong> Advance frame</li>
    <li><strong>Q:</strong> Change brush shape</li>
    <li><strong>C:</strong> Toggle material color</li>
    <li><strong>V:</strong> Toggle vectors</li>
    <li><strong>S:</strong> Toggle scalar colors</li>
    <li><strong>T:</strong> Toggle tooltip</li>
    <li><strong>G:</strong> Toggle text background</li>
    <li><strong>Mouse wheel:</strong> Change brush size</li>
    <li><strong>Shift:</strong> Draw straight lines</li>
    <li><strong>Ctrl:</strong> Fill area</li>
    <li><strong>Alt/Option:</strong> Pick material</li>
    <li><strong>Ctrl-X:</strong> Cut</li>
    <li><strong>Ctrl-C:</strong> Copy</li>
    <li><strong>Ctrl-V:</strong> Paste</li>
    <li><strong>Left mouse:</strong> Draw material</li>
    <li><strong>Right mouse:</strong> Erase material</li>
    <li><strong>Middle mouse:</strong> Pick material</li>
</ul>

<h2>Materials</h2>
<ul>
    <li><strong>Voltage source:</strong> Generates a voltage that can be used to power circuits.</li>
    <li><strong>Switch:</strong> Conductivity can be switched on and off by the user.</li>
    <li><strong>Metal:</strong> Material that conducts electricity very well.</li>
    <li><strong>Conductive metal:</strong> More conductive than regular metal.</li>
    <li><strong>Resistive metal:</strong> Less conductive than regular metal.</li>
    <li><strong>High workfunction metal:</strong> Metal that forms an ohmic contact with p-type semiconductor.</li>
    <li><strong>Low workfunction metal:</strong> Metal that forms an ohmic contact with n-type semiconductor.</li>
    <li><strong>Intrinsic semiconductor:</strong> Undoped, with equal number of electrons and holes.</li>
    <li><strong>P-type semiconductor:</strong> Represents a semiconductor doped with holes.</li>
    <li><strong>N-type semiconductor:</strong> Represents a semiconductor doped with electrons.</li>
    <li><strong>Heavily doped P-type semiconductor:</strong> Has a large concentration of holes.</li>
    <li><strong>Heavily doped N-type semiconductor:</strong> Has a large concentration of electrons.</li>
    <li><strong>Lightly doped P-type semiconductor:</strong> Has a small concentration of holes.</li>
    <li><strong>Lightly doped N-type semiconductor:</strong> Has a small concentration of electrons.</li>
    <li><strong>Dielectric:</strong> Material with a large permittivity/dielectric constant.</li>
    <li><strong>Ferromagnet:</strong> Magnetic material with high relative permeability.</li>
    <li><strong>Positive static charge:</strong> Positively charged insulating material.</li>
    <li><strong>Negative static charge:</strong> Negatively charged insulating material.</li>
    <li><strong>Decoration:</strong> Used for text or circuit symbols, has no effect otherwise.</li>
    <li><strong>Vacuum:</strong> Empty space.</li>
</ul>

<h2>What do the colors mean?</h2>
In general, the color red is associated with either holes or a positive charge. Blue represents electrons or negative charge. White means both electrons and holes exist a location.
In the rest of the cases, yellow represents a positve quantity (eg. chemical potential or magnetic field), while cyan is negative. Finally, green is used for quantites that are always positive (eg. energy density).
Note: Each material also has its own color which is unrelated to the aforementioned color scheme.

<h2>What do voltmeters actually measure?</h2>
You might notice that the reading from a voltage probe doesn't match the electric potential Φ. In reality, voltmeters do not measure Φ but rather differences in electrochemical potential of charge carriers.
Things get a bit trickier when we ask what the voltage is in a piece of semiconductor, becuase now there are multiple charge carriers! In this case we can try to define voltage as the reading we get when we stick a small metallic
probe at a certain point. This can actually be performed in the simulation, and the result is that the electrochemical potential of the metal lies between that of electrons and holes, closer to whichever one has a larger density.
I approximate this with a simple weighted average, the result of which is displayed on the voltage probe.

<h2>Why does the magnetic field vanish outside of circuits?</h2>
Because the simulation is in 2D, circuits actually extend infinitely in the z-direction (out of the page), so current flowing through a closed circuit has the same effect as current flowing through a 3D solenoid.
If you recall from E&amp;M class, the magnetic field within an infinitely long solenoid is entirely contained within it. This is certainly a point of departure from how we expect circuits to behave. It means that each current loop has its own inductance,
and trying to create "inductors" that behave like their 3d counterparts is quite tricky.
<p>
    Copyright (c) 2025 Brandon Li<br>
    <a href="mailto:brandonli.lex@gmail.com">brandonli.lex@gmail.com</a>
</p>